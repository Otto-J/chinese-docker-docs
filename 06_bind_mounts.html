<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Use bind mounts | Docker 民间中文文档</title>
    <meta name="description" content="Using bind mounts in our application">
    <link rel="preload stylesheet" href="/chinese-docker-docs/assets/style.477d4b74.css" as="style">
    <script type="module" src="/chinese-docker-docs/assets/app.5611125d.js"></script>
    <link rel="preload" href="/chinese-docker-docs/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/chinese-docker-docs/assets/chunks/framework.dc3ff5a3.js">
  <link rel="modulepreload" href="/chinese-docker-docs/assets/chunks/theme.827c1dc9.js">
  <link rel="modulepreload" href="/chinese-docker-docs/assets/06_bind_mounts.md.c0231ddb.lean.js">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-3e0ca8a2><!--[--><!--]--><!--[--><span tabindex="-1" data-v-33a8c34a></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-33a8c34a> Skip to content </a><!--]--><!----><header class="VPNav" data-v-3e0ca8a2 data-v-b3ff4af3><div class="VPNavBar has-sidebar" data-v-b3ff4af3 data-v-a62ffe7c><div class="container" data-v-a62ffe7c><div class="title" data-v-a62ffe7c><div class="VPNavBarTitle has-sidebar" data-v-a62ffe7c data-v-020ee0c9><a class="title" href="/chinese-docker-docs/" data-v-020ee0c9><!--[--><!--]--><!----><!--[-->Docker 民间中文文档<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-a62ffe7c><div class="curtain" data-v-a62ffe7c></div><div class="content-body" data-v-a62ffe7c><!--[--><!--]--><!----><!----><!----><div class="VPNavBarAppearance appearance" data-v-a62ffe7c data-v-9fd1e4ce><label title="toggle dark mode" data-v-9fd1e4ce data-v-7bce4d0b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-7bce4d0b data-v-bd9ad1cb><span class="check" data-v-bd9ad1cb><span class="icon" data-v-bd9ad1cb><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-7bce4d0b><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-7bce4d0b><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-a62ffe7c data-v-0b45c657 data-v-ac3e18f4><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-ac3e18f4><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-ac3e18f4><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-ac3e18f4><div class="VPMenu" data-v-ac3e18f4 data-v-52293316><!----><!--[--><!--[--><!----><div class="group" data-v-0b45c657><div class="item appearance" data-v-0b45c657><p class="label" data-v-0b45c657>Appearance</p><div class="appearance-action" data-v-0b45c657><label title="toggle dark mode" data-v-0b45c657 data-v-7bce4d0b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-7bce4d0b data-v-bd9ad1cb><span class="check" data-v-bd9ad1cb><span class="icon" data-v-bd9ad1cb><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-7bce4d0b><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-7bce4d0b><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-a62ffe7c data-v-5b16ccf2><span class="container" data-v-5b16ccf2><span class="top" data-v-5b16ccf2></span><span class="middle" data-v-5b16ccf2></span><span class="bottom" data-v-5b16ccf2></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-3e0ca8a2 data-v-e1d0b1c9><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-e1d0b1c9><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-e1d0b1c9><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-e1d0b1c9>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-e1d0b1c9 data-v-f889330c><button data-v-f889330c>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-3e0ca8a2 data-v-681ed879><div class="curtain" data-v-681ed879></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-681ed879><span class="visually-hidden" id="sidebar-aria-label" data-v-681ed879> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-681ed879><section class="VPSidebarItem level-0 collapsible has-active" data-v-681ed879 data-v-f538e8c9><div class="item" role="button" tabindex="0" data-v-f538e8c9><div class="indicator" data-v-f538e8c9></div><h2 class="text" data-v-f538e8c9>Table of Contents</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f538e8c9><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-f538e8c9><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-f538e8c9><!--[--><div class="VPSidebarItem level-1 is-link" data-v-f538e8c9 data-v-f538e8c9><div class="item" data-v-f538e8c9><div class="indicator" data-v-f538e8c9></div><a class="VPLink link link" href="/chinese-docker-docs/02_our_app.html" data-v-f538e8c9 data-v-c57314a4><!--[--><p class="text" data-v-f538e8c9>02_our_app</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f538e8c9 data-v-f538e8c9><div class="item" data-v-f538e8c9><div class="indicator" data-v-f538e8c9></div><a class="VPLink link link" href="/chinese-docker-docs/03_updating_app.html" data-v-f538e8c9 data-v-c57314a4><!--[--><p class="text" data-v-f538e8c9>03_updating_app</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f538e8c9 data-v-f538e8c9><div class="item" data-v-f538e8c9><div class="indicator" data-v-f538e8c9></div><a class="VPLink link link" href="/chinese-docker-docs/04_sharing_app.html" data-v-f538e8c9 data-v-c57314a4><!--[--><p class="text" data-v-f538e8c9>04_sharing_app</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f538e8c9 data-v-f538e8c9><div class="item" data-v-f538e8c9><div class="indicator" data-v-f538e8c9></div><a class="VPLink link link" href="/chinese-docker-docs/05_persisting_data.html" data-v-f538e8c9 data-v-c57314a4><!--[--><p class="text" data-v-f538e8c9>05_persisting_data</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-f538e8c9 data-v-f538e8c9><div class="item" data-v-f538e8c9><div class="indicator" data-v-f538e8c9></div><a class="VPLink link link" href="/chinese-docker-docs/06_bind_mounts.html" data-v-f538e8c9 data-v-c57314a4><!--[--><p class="text" data-v-f538e8c9>06_bind_mounts</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f538e8c9 data-v-f538e8c9><div class="item" data-v-f538e8c9><div class="indicator" data-v-f538e8c9></div><a class="VPLink link link" href="/chinese-docker-docs/07_multi_container.html" data-v-f538e8c9 data-v-c57314a4><!--[--><p class="text" data-v-f538e8c9>07_multi_container</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f538e8c9 data-v-f538e8c9><div class="item" data-v-f538e8c9><div class="indicator" data-v-f538e8c9></div><a class="VPLink link link" href="/chinese-docker-docs/08_using_compose.html" data-v-f538e8c9 data-v-c57314a4><!--[--><p class="text" data-v-f538e8c9>08_using_compose</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f538e8c9 data-v-f538e8c9><div class="item" data-v-f538e8c9><div class="indicator" data-v-f538e8c9></div><a class="VPLink link link" href="/chinese-docker-docs/09_image_best.html" data-v-f538e8c9 data-v-c57314a4><!--[--><p class="text" data-v-f538e8c9>09_image_best</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f538e8c9 data-v-f538e8c9><div class="item" data-v-f538e8c9><div class="indicator" data-v-f538e8c9></div><a class="VPLink link link" href="/chinese-docker-docs/11_what_next.html" data-v-f538e8c9 data-v-c57314a4><!--[--><p class="text" data-v-f538e8c9>11_what_next</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f538e8c9 data-v-f538e8c9><div class="item" data-v-f538e8c9><div class="indicator" data-v-f538e8c9></div><a class="VPLink link link" href="/chinese-docker-docs/kube-deploy.html" data-v-f538e8c9 data-v-c57314a4><!--[--><p class="text" data-v-f538e8c9>kube deploy</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f538e8c9 data-v-f538e8c9><div class="item" data-v-f538e8c9><div class="indicator" data-v-f538e8c9></div><a class="VPLink link link" href="/chinese-docker-docs/orchestration.html" data-v-f538e8c9 data-v-c57314a4><!--[--><p class="text" data-v-f538e8c9>orchestration</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f538e8c9 data-v-f538e8c9><div class="item" data-v-f538e8c9><div class="indicator" data-v-f538e8c9></div><a class="VPLink link link" href="/chinese-docker-docs/overview.html" data-v-f538e8c9 data-v-c57314a4><!--[--><p class="text" data-v-f538e8c9>overview</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f538e8c9 data-v-f538e8c9><div class="item" data-v-f538e8c9><div class="indicator" data-v-f538e8c9></div><a class="VPLink link link" href="/chinese-docker-docs/resources.html" data-v-f538e8c9 data-v-c57314a4><!--[--><p class="text" data-v-f538e8c9>resources</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f538e8c9 data-v-f538e8c9><div class="item" data-v-f538e8c9><div class="indicator" data-v-f538e8c9></div><a class="VPLink link link" href="/chinese-docker-docs/swarm-deploy.html" data-v-f538e8c9 data-v-c57314a4><!--[--><p class="text" data-v-f538e8c9>swarm deploy</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-3e0ca8a2 data-v-5394fe7f><div class="VPDoc has-sidebar has-aside" data-v-5394fe7f data-v-8682743f><!--[--><!--]--><div class="container" data-v-8682743f><div class="aside" data-v-8682743f><div class="aside-curtain" data-v-8682743f></div><div class="aside-container" data-v-8682743f><div class="aside-content" data-v-8682743f><div class="VPDocAside" data-v-8682743f data-v-1ec6a5e2><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-1ec6a5e2 data-v-52cdc596><div class="content" data-v-52cdc596><div class="outline-marker" data-v-52cdc596></div><div class="outline-title" data-v-52cdc596>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-52cdc596><span class="visually-hidden" id="doc-outline-aria-label" data-v-52cdc596> Table of Contents for current page </span><ul class="root" data-v-52cdc596 data-v-61fad279><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-1ec6a5e2></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-8682743f><div class="content-container" data-v-8682743f><!--[--><!--]--><!----><main class="main" data-v-8682743f><div style="position:relative;" class="vp-doc _chinese-docker-docs_06_bind_mounts" data-v-8682743f><div><p>In the previous chapter, we talked about and used a volume mount to persist the data in our database. A volume mount is a great choice when you need somewhere persistent to store your application data.</p><p>A bind mount is another type of mount, which lets you share a directory from the host&#39;s filesystem into the container. When working on an application, you can use a bind mount to mount source code into the container. The container sees the changes you make to the code immediately, as soon as you save a file. This means that you can run processes in the container that watch for filesystem changes and respond to them.</p><p>In this chapter, we&#39;ll see how we can use bind mounts and a tool called <a href="https://npmjs.com/package/nodemon" target="_blank" rel="noreferrer">nodemon</a>{:target=&quot;<em>blank&quot; rel=&quot;noopener&quot; class=&quot;</em>&quot;} to watch for file changes, and then restart the application automatically. There are equivalent tools in most other languages and frameworks.</p><h2 id="quick-volume-type-comparisons" tabindex="-1">Quick volume type comparisons <a class="header-anchor" href="#quick-volume-type-comparisons" aria-label="Permalink to &quot;Quick volume type comparisons&quot;">​</a></h2><p>The following table outlines the main differences between volume mounts and bind mounts.</p><table><thead><tr><th></th><th>Named volumes</th><th>Bind mounts</th></tr></thead><tbody><tr><td>Host location</td><td>Docker chooses</td><td>You decide</td></tr><tr><td>Mount example (using <code>--mount</code>)</td><td><code>type=volume,src=my-volume,target=/usr/local/data</code></td><td><code>type=bind,src=/path/to/data,target=/usr/local/data</code></td></tr><tr><td>Populates new volume with container contents</td><td>Yes</td><td>No</td></tr><tr><td>Supports Volume Drivers</td><td>Yes</td><td>No</td></tr></tbody></table><h2 id="trying-out-bind-mounts" tabindex="-1">Trying out bind mounts <a class="header-anchor" href="#trying-out-bind-mounts" aria-label="Permalink to &quot;Trying out bind mounts&quot;">​</a></h2><p>Before looking at how we can use bind mounts for developing our application, let&#39;s run a quick experiment to get a practical understanding of how bind mounts work.</p><p>If you&#39;re following these steps on Windows, make sure to use PowerShell and not command prompt (<code>cmd</code>).</p><ol><li><p>Open a terminal and make sure your current working directory is in the <code>app</code> directory of the getting started repository.</p></li><li><p>Run the following command to start <code>bash</code> in an <code>ubuntu</code> container with a bind mount.</p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-it</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--mount</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">type=bind,src=</span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#82AAFF;">pwd</span><span style="color:#89DDFF;">)&quot;</span><span style="color:#C3E88D;">,target=/src</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ubuntu</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bash</span></span>
<span class="line"></span></code></pre></div><p>The <code>--mount</code> option tells Docker to create a bind mount, where <code>src</code> is the current working directory on your host machine (<code>getting-started/app</code>), and <code>target</code> is where that directory should appear inside the container (<code>/src</code>).</p></li><li><p>After running the command, Docker starts an interactive <code>bash</code> session in the root directory of the container&#39;s filesystem.</p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">root@ac1237fad8db:/</span><span style="color:#A6ACCD;"># pwd</span></span>
<span class="line"><span style="color:#FFCB6B;">/</span></span>
<span class="line"><span style="color:#FFCB6B;">root@ac1237fad8db:/</span><span style="color:#A6ACCD;"># ls</span></span>
<span class="line"><span style="color:#FFCB6B;">bin</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">dev</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">home</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">media</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">opt</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">root</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">sbin</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">srv</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">tmp</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">var</span></span>
<span class="line"><span style="color:#FFCB6B;">boot</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">etc</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">lib</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">mnt</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">proc</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">src</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">sys</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">usr</span></span>
<span class="line"></span></code></pre></div></li><li><p>Now, change directory in the <code>src</code> directory.</p><p>This is the directory that you mounted when starting the container. Listing the contents of this directory displays the same files as in the <code>getting-started/app</code> directory on your host machine.</p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">root@ac1237fad8db:/</span><span style="color:#A6ACCD;"># cd src</span></span>
<span class="line"><span style="color:#FFCB6B;">root@ac1237fad8db:/src</span><span style="color:#A6ACCD;"># ls</span></span>
<span class="line"><span style="color:#FFCB6B;">Dockerfile</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">node_modules</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">package.json</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">spec</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">src</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">yarn.lock</span></span>
<span class="line"></span></code></pre></div></li><li><p>Create a new file named <code>myfile.txt</code>.</p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">root@ac1237fad8db:/src</span><span style="color:#A6ACCD;"># touch myfile.txt</span></span>
<span class="line"><span style="color:#FFCB6B;">root@ac1237fad8db:/src</span><span style="color:#A6ACCD;"># ls</span></span>
<span class="line"><span style="color:#FFCB6B;">Dockerfile</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">myfile.txt</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">node_modules</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">package.json</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">spec</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">src</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">yarn.lock</span></span>
<span class="line"></span></code></pre></div></li><li><p>Now if you open this directory on the host, you&#39;ll see the <code>myfile.txt</code> file has been created in the directory.</p><p><img src="/chinese-docker-docs/assets/bind-mount-newfile.b96d42a1.png" alt="File viewer on the host machine that sees the file created from the container"></p></li><li><p>From the host, delete the <code>myfile.txt</code> file.</p></li><li><p>In the container, list the contents of the <code>app</code> directory once more. You&#39;ll see that the file is now gone.</p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">root@ac1237fad8db:/src</span><span style="color:#A6ACCD;"># ls</span></span>
<span class="line"><span style="color:#FFCB6B;">Dockerfile</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">node_modules</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">package.json</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">spec</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">src</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">yarn.lock</span></span>
<span class="line"></span></code></pre></div></li><li><p>Stop the interactive container session with <code>Ctrl</code> + <code>D</code>.</p></li></ol><p>And that&#39;s all for a brief introduction to bind mounts. This procedure demonstrated how files are shared between the host and the container, and how changes are immediately reflected on both sides. Now let&#39;s see how we can use bind mounts to develop software.</p><h2 id="run-your-app-in-a-development-container" tabindex="-1">Run your app in a development container <a class="header-anchor" href="#run-your-app-in-a-development-container" aria-label="Permalink to &quot;Run your app in a development container&quot;">​</a></h2><p>The following steps describe how to run a development container with a bind mount that does the following:</p><ul><li>Mount our source code into the container</li><li>Install all dependencies</li><li>Start <code>nodemon</code> to watch for filesystem changes</li></ul><p>So, let&#39;s do it!</p><ol><li><p>Make sure you don&#39;t have any <code>getting-started</code> containers currently running.</p></li><li><p>Run the following command from the <code>getting-started/app</code> directory.</p><p>If you are using an Mac or Linux device, then use the following command.</p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-dp</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3000</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">3000</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">-w</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/app</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--mount</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">type=bind,src=</span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#82AAFF;">pwd</span><span style="color:#89DDFF;">)&quot;</span><span style="color:#C3E88D;">,target=/app</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">node:</span><span style="color:#F78C6C;">18</span><span style="color:#C3E88D;">-alpine</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">sh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">yarn install &amp;&amp; yarn run dev</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><p>If you are using Windows, then use the following command in PowerShell.</p><div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">$ docker run </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">dp </span><span style="color:#F78C6C;">3000</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">3000</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">w </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">app </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">mount type</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">bind</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">$(</span><span style="color:#A6ACCD;">pwd</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">=/</span><span style="color:#A6ACCD;">app </span><span style="color:#89DDFF;">`</span></span>
<span class="line"><span style="color:#A6ACCD;">    node:</span><span style="color:#F78C6C;">18</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">alpine </span><span style="color:#89DDFF;">`</span></span>
<span class="line"><span style="color:#A6ACCD;">    sh </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">c </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">yarn install &amp;&amp; yarn run dev</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><ul><li><code>-dp 3000:3000</code> - same as before. Run in detached (background) mode and create a port mapping</li><li><code>-w /app</code> - sets the &quot;working directory&quot; or the current directory that the command will run from</li><li><code>--mount type=bind,src=&quot;$(pwd)&quot;,target=/app</code> - bind mount the current directory from the host into the <code>/app</code> directory in the container</li><li><code>node:18-alpine</code> - the image to use. Note that this is the base image for our app from the Dockerfile</li><li><code>sh -c &quot;yarn install &amp;&amp; yarn run dev&quot;</code> - the command. We&#39;re starting a shell using <code>sh</code> (alpine doesn&#39;t have <code>bash</code>) and running <code>yarn install</code> to install packages and then running <code>yarn run dev</code> to start the development server. If we look in the <code>package.json</code>, we&#39;ll see that the <code>dev</code> script starts <code>nodemon</code>.</li></ul></li><li><p>You can watch the logs using <code>docker logs</code>. You&#39;ll know you&#39;re ready to go when you see this:</p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">logs</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-f</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">container-i</span><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">nodemon</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">src/index.js</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">nodemon</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> 2.0.20</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">nodemon</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> to restart at any time, enter </span><span style="color:#89DDFF;">`</span><span style="color:#FFCB6B;">rs</span><span style="color:#89DDFF;">`</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">nodemon</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> watching dir</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">s</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">.</span><span style="color:#89DDFF;">*</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">nodemon</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> starting </span><span style="color:#89DDFF;">`</span><span style="color:#FFCB6B;">node</span><span style="color:#C3E88D;"> src/index.js</span><span style="color:#89DDFF;">`</span></span>
<span class="line"><span style="color:#FFCB6B;">Using</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sqlite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">database</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">at</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/todos/todo.db</span></span>
<span class="line"><span style="color:#FFCB6B;">Listening</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">on</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">port</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3000</span></span>
<span class="line"></span></code></pre></div><p>When you&#39;re done watching the logs, exit out by hitting <code>Ctrl</code>+<code>C</code>.</p></li><li><p>Now, make a change to the app. In the <code>src/static/js/app.js</code> file, on line 109, change the &quot;Add Item&quot; button to simply say &quot;Add&quot;:</p><div class="language-diff"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> {submitting ? &#39;Adding...&#39; : &#39;Add Item&#39;}</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;"> {submitting ? &#39;Adding...&#39; : &#39;Add&#39;}</span></span>
<span class="line"></span></code></pre></div><p>Save the file.</p></li><li><p>Refresh the page in your web browser, and you should see the change reflected almost immediately. It might take a few seconds for the Node server to restart. If you get an error, try refreshing after a few seconds.</p><p><img src="/chinese-docker-docs/assets/updated-add-button.6bf69f66.png" alt="Screenshot of updated label for Add button">{: style=&quot;width:75%;&quot; .text-center}</p></li><li><p>Feel free to make any other changes you&#39;d like to make. Each time you make a change and save a file, the <code>nodemon</code> process restarts the app inside the container automatically. When you&#39;re done, stop the container and build your new image using:</p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">build</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">getting-started</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.</span></span>
<span class="line"></span></code></pre></div></li></ol><p>Using bind mounts is common for local development setups. The advantage is that the development machine doesn&#39;t need to have all of the build tools and environments installed. With a single <code>docker run</code> command, dependencies and tools are pulled and ready to go. We&#39;ll talk about Docker Compose in a future step, as this will help simplify our commands (we&#39;re already getting a lot of flags).</p><p>In addition to volume mounts and bind mounts, Docker also supports other mount types and storage drivers for handling more complex and specialized use cases. To learn more about the advanced storage concepts, see <a href="https://docs.docker.com/storage/" target="_blank" rel="noreferrer">Manage data in Docker</a>.</p><h2 id="next-steps" tabindex="-1">Next steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next steps&quot;">​</a></h2><p>At this point, you can persist your database and respond rapidly to the needs and demands of your investors and founders. Hooray! But, guess what? You received great news! Your project has been selected for future development!</p><p>In order to prepare for production, you need to migrate your database from working in SQLite to something that can scale a little better. For simplicity, you&#39;ll keep with a relational database and switch your application to use MySQL. But, how should you run MySQL? How do you allow the containers to talk to each other? You&#39;ll learn about that next!</p><p><a href="./07_multi_container.html">Multi container apps</a><code>{: .button .primary-btn}</code></p></div></div></main><footer class="VPDocFooter" data-v-8682743f data-v-1f0816e8><!--[--><!--]--><!----><div class="prev-next" data-v-1f0816e8><div class="pager" data-v-1f0816e8><a class="pager-link prev" href="/chinese-docker-docs/05_persisting_data.html" data-v-1f0816e8><span class="desc" data-v-1f0816e8>Previous page</span><span class="title" data-v-1f0816e8>05_persisting_data</span></a></div><div class="has-prev pager" data-v-1f0816e8><a class="pager-link next" href="/chinese-docker-docs/07_multi_container.html" data-v-1f0816e8><span class="desc" data-v-1f0816e8>Next page</span><span class="title" data-v-1f0816e8>07_multi_container</span></a></div></div></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"02_our_app.md\":\"73742ecb\",\"04_sharing_app.md\":\"f88cf3dd\",\"03_updating_app.md\":\"3eda50fc\",\"05_persisting_data.md\":\"26f27b87\",\"06_bind_mounts.md\":\"c0231ddb\",\"07_multi_container.md\":\"80a640e5\",\"09_image_best.md\":\"a0d93afc\",\"08_using_compose.md\":\"f7bba760\",\"11_what_next.md\":\"bb1f9b04\",\"index.md\":\"a09344e9\",\"resources.md\":\"d1e0a63c\",\"swarm-deploy.md\":\"cea51c33\",\"kube-deploy.md\":\"1fc3066c\",\"overview.md\":\"b0f340c0\",\"orchestration.md\":\"84e743a8\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"Docker 民间中文文档\",\"description\":\"A VitePress site\",\"base\":\"/chinese-docker-docs/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"sidebar\":[{\"text\":\"Table of Contents\",\"items\":[{\"text\":\"02_our_app\",\"link\":\"/02_our_app\"},{\"text\":\"03_updating_app\",\"link\":\"/03_updating_app\"},{\"text\":\"04_sharing_app\",\"link\":\"/04_sharing_app\"},{\"text\":\"05_persisting_data\",\"link\":\"/05_persisting_data\"},{\"text\":\"06_bind_mounts\",\"link\":\"/06_bind_mounts\"},{\"text\":\"07_multi_container\",\"link\":\"/07_multi_container\"},{\"text\":\"08_using_compose\",\"link\":\"/08_using_compose\"},{\"text\":\"09_image_best\",\"link\":\"/09_image_best\"},{\"text\":\"11_what_next\",\"link\":\"/11_what_next\"},{\"text\":\"kube deploy\",\"link\":\"/kube-deploy\"},{\"text\":\"orchestration\",\"link\":\"/orchestration\"},{\"text\":\"overview\",\"link\":\"/overview\"},{\"text\":\"resources\",\"link\":\"/resources\"},{\"text\":\"swarm deploy\",\"link\":\"/swarm-deploy\"}],\"collapsed\":false}]},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>